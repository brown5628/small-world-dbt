version: 2

models:
    - name: stg_deep_work_tracker
      description: Google sheet log of deep work hours. Grain is an activity. There can be multiple activities during a day.
      columns:
          - name: tracker_activity_id
            description: Primary Key
            tests:
                - unique
                - not_null
    - name: stg_account_balances
      description: Google sheet that logs family financial account balances pulled at different points in time. Grain is a pull date x account name x asset name.
      columns:
          - name: account_balance_id
            description: Primary Key
            tests:
                - unique
                - not_null
    - name: stg_fund_conversions
      description: Google sheet log that breaks bundled assets into their component parts. Specifically used to move from total world/target retirement funds to total US/Int & stocks/bonds. Grain is a pull date x asset name x asset category x asset class.
      columns:
          - name: fund_conversions_id
            description: Primary Key
            tests:
                - unique
                - not_null
    - name: account_balances__split
      description: Split account balances into their component parts to establish the desired grain for account balance reporting
      columns:
          - name: account_categorized_asset_id
            description: Primary Key
            tests:
                - unique
                - not_null
    - name: stg_okr_objectives
      description: Google sheet data that lists objectives within an OKR framework.
      columns:
        - name: objective_id
          description: Primary Key
          tests:
            - unique
            - not_null

sources:
  - name: raw_google_sheets_deep_work_tracker
    tables:
      - name: dw_log
  - name: raw_google_sheets_financial_data
    tables:
      - name: account_balances
      - name: fund_conversions
  - name: raw_google_sheets_okrs
    tables:
      - name: objectives